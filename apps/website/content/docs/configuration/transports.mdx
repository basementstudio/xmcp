---
title: "Transports"
metadataTitle: "Transports | xmcp Documentation"
publishedAt: "2025-07-06"
summary: "Learn how to customize the transports configuration."
description: "Customize the transport types for your MCP server."
---

## HTTP transport

The `http` configuration customizes the HTTP server. Set it to `true` to use defaults, or provide an object to override specific options:

```typescript title="xmcp.config.ts"
const config: XmcpConfig = {
  http: {
    port: 3001,
    host: "127.0.0.1",
    endpoint: "/mcp",
    bodySizeLimit: 10485760, // 10MB
    debug: false, // adds extra logging to the console
  },
};

export default config;
```

These are the default values. Override only what you need to customize.

### CORS

CORS (Cross-Origin Resource Sharing) middleware that can be configured to control cross-origin requests.

```typescript title="xmcp.config.ts"
const config: XmcpConfig = {
  http: {
    cors: {
      origin: "*",
      methods: ["GET", "POST"],
      allowedHeaders: [
        "Content-Type",
        "Authorization",
        "mcp-session-id",
        "mcp-protocol-version",
      ],
      exposedHeaders: ["Content-Type", "Authorization", "mcp-session-id"],
      credentials: false,
      maxAge: 86400,
    },
  },
};

export default config;
```

## STDIO transport

The `stdio` configuration customizes the STDIO transport. Set it to `true` to use defaults, or provide an object to override specific options:

By default you enable STDIO transport by setting it to `true`.

```typescript title="xmcp.config.ts"
const config: XmcpConfig = {
  stdio: true,
};
```

You can also customize the debug mode and this would enable it as well.

```typescript title="xmcp.config.ts"
const config: XmcpConfig = {
  stdio: {
    debug: false, // adds extra logging to the console
  },
};
```

## Troubleshooting

Keep in mind that clients like Claude Desktop are not compatible with STDIO logging and would cause a JSON parsing error.

## Observability

Enable execution observability logs for tools, prompts, and resources:

```typescript title="xmcp.config.ts"
const config: XmcpConfig = {
  observability: true,
};
```

When enabled, xmcp emits structured JSON logs to `stderr` for each execution start/end, including duration and success/failure details.

Example output:

```text
2026-02-23T20:05:05.396Z INFO tool.start tool/structured-content req=4 dur=- outcome=- | {"@timestamp":"2026-02-23T20:05:05.396Z","event.action":"tool.start","log.level":"info",...}
2026-02-23T20:05:05.399Z INFO tool.end tool/structured-content req=4 dur=3 outcome=success | {"@timestamp":"2026-02-23T20:05:05.399Z","event.action":"tool.end","event.duration":3000000,"event.outcome":"success",...}
```

Observability logs redact common sensitive keys recursively by default (`authorization`, `token`, `password`, `secret`, `apiKey`, `cookie`, etc.).

If a `traceparent` header is present, xmcp also includes `trace.id` and `span.id` for cross-service correlation.

For full details on format, standards alignment, and parsing tips, see the [Observability](./observability) page.
