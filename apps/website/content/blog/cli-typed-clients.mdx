---
title: "Generate Typed MCP Clients with @xmcp-dev/cli"
description: "Produce fully typed MCP clients from remote servers or STDIO packages with one command."
category: "guides"
date: "2025-12-09"
order: 7
previewImage: "/blog/cli-typed-clients.png"
---

xmcp now let's you generate tools for external clients.

## How it works
By running `npx @xmcp-dev/cli generate`, it will fetch the tools from the MCP servers (HTTP or STDIO) and generate typed tools. For you to use inside your tools.

## Prerequisites
- Node.js 20+ installed
- An MCP server URL and/or an installed STDIO package (e.g., `@playwright/mcp`)
- Any required env vars (e.g., `API_KEY`) available to the CLI (if you use headers)

## Describe your clients
Point the CLI at your MCP endpoints by adding them to the `clients.ts` file. HTTP entries can forward headers; STDIO entries spawn npm packages.

```typescript
// examples/external-clients/src/clients.ts
export const clients = {
  remote: {
    url: "https://test-0-5-2-canary.vercel.app/mcp",
    headers: [{ name: "x-api-key", env: "API_KEY" }],
  },
  playwright: {
    npm: "@playwright/mcp",
  },
};
```

<Callout variant="warning" icon="alertTriangle" title="Headers and secrets">
Use `env` for secrets (e.g., `API_KEY`) so the generated client reads from your environment. Only use `value` for non-sensitive static headers.
</Callout>

## Generate typed clients
Run the generator from your project root. By default it looks for `src/clients.ts` and writes to `src/generated`.

```bash
npx @xmcp-dev/cli generate
```

## Use the generated clients
The generator emits `client.index.ts` with ready-to-use factories and instances for every entry in your config.

```typescript
import { generatedClients } from "./generated/client.index";

async function main() {
  // Replace with the tool names your servers expose
  const remoteResult = await generatedClients.remote.greet({ name: "World" });
  const stdioResult = await generatedClients.playwright.browserNavigate({
    url: "https://www.xmcp.dev",
  });
}
```

### Build and run the example
The `examples/external-clients` project wires these commands for you:

```bash
pnpm install
pnpm dev
```

## Conclusion
Now you can generate external typed clients for your MCP servers and make your tools more powerful.

## Contributing

Share your feedback and help shape the future of xmcp:
[GitHub](https://github.com/basementstudio/xmcp)